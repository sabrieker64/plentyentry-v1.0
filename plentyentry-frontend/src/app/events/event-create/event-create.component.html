<div class="container-splide">
  <splide [options]="
    {
      perPage: 1,
      pagination: false
    }
      ">
    <splide-slide>
      <figure class="image-thumbnail">
        <img src="../../../assets/event.jpg">
      </figure>
    </splide-slide>
    <splide-slide>
      <figure class="image-thumbnail">
        <img src="../../../assets/event.jpg">
      </figure>
    </splide-slide>
    <splide-slide>
      <figure class="image-thumbnail">
        <img src="../../../assets/event.jpg">
      </figure>
    </splide-slide>
  </splide>

  <div class="event-name box--shadow margin-bottom--standard">
    <h2>{{ eventDTO.name }}</h2>
    <h4>Die coolen Events GmbH</h4>
  </div>

  <h3 class="event-headline">Eventinfo:</h3>
  <form #createForm="ngForm" [formGroup]="createFormGroup" (ngSubmit)="createForm.form.valid && createEvent() ">

    <div class="grid cols--1 container">

      <div class="event-detail--box box--shadow">
        <div class="event-detail--box-1">
          <mat-icon style="color: #ffffff;" class="icon" aria-hidden="false" aria-label="outlined icon">image</mat-icon>
        </div>
        <div class="event-detail--box-2">

          <mat-form-field class="form-element full-width" appearance="outline">
            <mat-label>Fotos</mat-label>

            <ngx-mat-file-input [multiple]="true" formControlName="files"
                                id="file"
                                class="form-control"
                                matInput
                                (change)="onFileChange($event)"
                                accept="{{accept}}"
            >
              <mat-icon ngxMatFileInputIcon>folder</mat-icon>
            </ngx-mat-file-input>

            <mat-error *ngIf="createFormGroup.get('files')?.errors">
              <p *ngIf="createFormGroup.get('files')?.hasError('required')">Dieses Feld ist ein Pflichtfeld</p>
            </mat-error>
            <mat-hint>Foto hinzufügen</mat-hint>
          </mat-form-field>
        </div>
      </div>


      <div class="event-detail--box box--shadow">
        <div class="event-detail--box-1">
          <mat-icon style="color: #ffffff;" class="icon" aria-hidden="false" aria-label="outlined icon">badge</mat-icon>
        </div>
        <div class="event-detail--box-2">
          <mat-form-field class="form-element full-width" appearance="outline">
            <mat-label>Name</mat-label>
            <input name="eventName" formControlName="eventName" matInput placeholder="Mustername"
                   [(ngModel)]="eventDTO.name" type="text">
            <mat-error *ngIf="createFormGroup.get('eventName')?.errors">
              <p *ngIf="createFormGroup.get('eventName')?.hasError('required')">Dieses Feld ist ein Pflichtfeld</p>
            </mat-error>
            <mat-hint>Event Name eingeben</mat-hint>
          </mat-form-field>
        </div>
      </div>

      <div class="event-detail--box box--shadow">
        <div class="event-detail--box-1">
          <mat-icon style="color: #ffffff;" class="icon" aria-hidden="false" aria-label="outlined icon">home</mat-icon>
        </div>
        <div class="event-detail--box-2">
          <mat-form-field class="form-element full-width" appearance="outline">
            <mat-label>Stadt</mat-label>
            <input name="eventCity" formControlName="eventCity" matInput placeholder="Musterstadt"
                   [(ngModel)]="eventDTO.city" type="text">
            <mat-error *ngIf="createFormGroup.get('eventCity')?.errors">
              <p *ngIf="createFormGroup.get('eventCity')?.hasError('required')">Dieses Feld ist ein Pflichtfeld</p>
            </mat-error>
            <mat-hint>Event Stadt eingeben</mat-hint>
          </mat-form-field>
        </div>
      </div>

      <div class="event-detail--box box--shadow">
        <div class="event-detail--box-1">
          <mat-icon style="color: #ffffff;" class="icon" aria-hidden="false" aria-label="outlined icon">location_on
          </mat-icon>
        </div>
        <div class="event-detail--box-2">
          <mat-form-field class="form-element full-width" appearance="outline">
            <mat-label>Adresse</mat-label>
            <input name="eventAddress" formControlName="eventAddress" matInput placeholder="Musteradresse"
                   [(ngModel)]="eventDTO.address" type="text">
            <mat-error *ngIf="createFormGroup.get('eventAddress')?.errors">
              <p *ngIf="createFormGroup.get('eventAddress')?.hasError('required')">Dieses Feld ist ein Pflichtfeld</p>
            </mat-error>
            <mat-hint>Event Adresse eingeben</mat-hint>
          </mat-form-field>
        </div>
      </div>

      <div class="event-detail--box box--shadow">
        <div class="event-detail--box-1">
          <mat-icon style="color: #ffffff;" class="icon" aria-hidden="false" aria-label="outlined icon">today</mat-icon>
        </div>
        <div class="event-detail--box-2">
          <mat-form-field appearance="outline" class="event-date--formfield">
            <mat-label>Datum</mat-label>
            <input name="eventDate" formControlName="eventDate" matInput [matDatepicker]="picker1"
                   [(ngModel)]="eventDTO.date">
            <!--
            <mat-error *ngIf="createFormGroup.get('eventDate')?.errors">
              <p *ngIf="createFormGroup.get('eventDate')?.hasError('required')">Dieses Feld ist ein Pflichtfeld</p>
            </mat-error>
            !-->
            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker #picker1></mat-datepicker>
            <mat-hint>Event Datum eingeben</mat-hint>
          </mat-form-field>
        </div>
      </div>

      <div class="event-detail--box box--shadow">
        <div class="event-detail--box-1">
          <mat-icon style="color: #ffffff;" class="icon" aria-hidden="false" aria-label="outlined icon">paid</mat-icon>
        </div>
        <div class="event-detail--box-2">
          <mat-form-field class="form-element full-width" appearance="outline">
            <mat-label>Preis pro Ticket</mat-label>
            <input name="eventPrice" formControlName="eventPrice" matInput placeholder="9,99"
                   [(ngModel)]="eventDTO.price" type="text">
            <mat-error *ngIf="createFormGroup.get('eventPrice')?.errors">
              <p *ngIf="createFormGroup.get('eventPrice')?.hasError('required')">Dieses Feld ist ein Pflichtfeld</p>
            </mat-error>
            <mat-hint>Event Preis eingeben</mat-hint>
          </mat-form-field>
        </div>
      </div>

      <div class="event-detail--box box--shadow">
        <div class="event-detail--box-1">
          <mat-icon style="color: #ffffff;" class="icon" aria-hidden="false" aria-label="outlined icon">
            format_list_numbered
          </mat-icon>
        </div>
        <div class="event-detail--box-2">
          <mat-form-field class="form-element full-width" appearance="outline">
            <mat-label>Anzahl der verfügbaren Tickets</mat-label>
            <input name="eventTicketCounter" formControlName="eventTicketCounter" matInput placeholder="2000"
                   [(ngModel)]="eventDTO.ticketCounter" type="number">
            <mat-error *ngIf="createFormGroup.get('eventTicketCounter')?.errors">
              <p *ngIf="createFormGroup.get('eventTicketCounter')?.hasError('required')">Dieses Feld ist ein
                Pflichtfeld</p>
            </mat-error>
            <mat-hint>Anzahl der verfügbaren Tickets</mat-hint>
          </mat-form-field>
        </div>
      </div>


      <div class="description-box box--shadow">
        <mat-form-field class="form-element full-width" appearance="outline" style="width: 100%">
          <mat-label>Beschreibung</mat-label>
          <textarea name="eventDescription" formControlName="eventDescription" matInput
                    [(ngModel)]="eventDTO.description"></textarea>
          <mat-error *ngIf="createFormGroup.get('eventDescription')?.errors">
            <p *ngIf="createFormGroup.get('eventDescription')?.hasError('required')">Dieses Feld ist ein Pflichtfeld</p>
          </mat-error>
          <mat-hint>Event Beschreibung eingeben</mat-hint>
        </mat-form-field>
      </div>

      <button mat-raised-button color="primary" type="submit" [disabled]="!createForm.form.valid">
        Erstellen
      </button>
    </div>
  </form>

  <button (click)="check()">TEST</button>
</div>
