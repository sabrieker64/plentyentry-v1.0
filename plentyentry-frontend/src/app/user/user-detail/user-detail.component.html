<div class="container" *ngIf="allowed">
  <div class="box box--shadow">

    <h1 class="form-headline">{{ userDTO.firstName}} Details</h1>

    <form #registerForm="ngForm" [formGroup]="registerFormGroup" (ngSubmit)="updateUser()">

      <div class="grid cols--2">

        <mat-form-field appearance="outline">
          <mat-label>Geschlecht</mat-label>
          <mat-select name="gender"
                      formControlName="gender"
                      [(ngModel)]="userDTO.userGender">
            <mat-option value="DIVERSE">Divers</mat-option>
            <mat-option value="FEMALE">Weiblich</mat-option>
            <mat-option value="MALE">Männlich</mat-option>
          </mat-select>
          <mat-error *ngIf="registerFormGroup.get('gender')?.errors">
            <p *ngIf="registerFormGroup.get('gender')?.hasError('required')">Dieses Feld ist ein Pflichtfeld</p>
          </mat-error>
        </mat-form-field>

        <mat-form-field class="form-element full-width" appearance="outline">
          <mat-label>Vorname</mat-label>
          <input matInput placeholder="Max" name="firstname"
                 formControlName="firstname"
                 [(ngModel)]="userDTO.firstName">
          <mat-error *ngIf="registerFormGroup.get('firstname')?.errors">
            <p *ngIf="registerFormGroup.get('firstname')?.hasError('required')">Dieses Feld ist ein Pflichtfeld</p>
            <p *ngIf="registerFormGroup.get('firstname')?.hasError('minlength')">Bitte Mindestlänge beachten</p>
          </mat-error>
        </mat-form-field>

        <mat-form-field class="form-element full-width" appearance="outline">
          <mat-label>Nachname</mat-label>
          <input matInput placeholder="Mustermann" name="lastname"
                 formControlName="lastname"
                 [(ngModel)]="userDTO.lastName">
          <mat-error *ngIf="registerFormGroup.get('lastname')?.errors">
            <p *ngIf="registerFormGroup.get('lastname')?.hasError('required')">Dieses Feld ist ein Pflichtfeld</p>
            <p *ngIf="registerFormGroup.get('lastname')?.hasError('minlength')">Bitte Mindestlänge beachten</p>
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Geburtsdatum</mat-label>
          <input matInput [matDatepicker]="picker1" name="birthday"
                 formControlName="birthday"
                 [(ngModel)]="userDTO.birthday">
          <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
          <mat-datepicker #picker1></mat-datepicker>
        </mat-form-field>


        <mat-form-field class="form-element full-width" appearance="outline">
          <mat-label>E-Mail</mat-label>
          <input matInput placeholder="max@mustermann.com" name="email"
                 formControlName="email"
                 [(ngModel)]="userDTO.email">
          <mat-error *ngIf="registerFormGroup.get('email')?.errors">
            <p *ngIf="registerFormGroup.get('email')?.hasError('required')">Dieses Feld ist ein Pflichtfeld</p>
            <p *ngIf="registerFormGroup.get('email')?.hasError('pattern')">Die ist keine gültige E-Mail Adresse</p>
          </mat-error>
        </mat-form-field>

        <mat-form-field class="form-element full-width" appearance="outline">
          <mat-label>Adresse</mat-label>
          <input matInput placeholder="Musterstraße 1/1" name="street" formControlName="street"
                 [(ngModel)]="userDTO.street">
        </mat-form-field>

        <mat-form-field class="form-element full-width" appearance="outline">
          <mat-label>Postleitzahl</mat-label>
          <input matInput placeholder="1234" name="postCode" formControlName="postcode"
                 [(ngModel)]="userDTO.postCode">
        </mat-form-field>

        <mat-form-field class="form-element" appearance="outline">
          <mat-label>Stadt</mat-label>
          <input matInput placeholder="Musterstadt" name="city" formControlName="city"
                 [(ngModel)]="userDTO.city">
        </mat-form-field>

        <button mat-raised-button color="primary" type="submit">Ändern</button>

      </div>
    </form>

  </div>
</div>
