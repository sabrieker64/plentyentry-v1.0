<div class="container">
  <div class="box box--shadow">

    <h1 class="form-headline">Registrieren</h1>

    <form #registerForm="ngForm" [formGroup]="registerFormGroup" (ngSubmit)="registerForm.form.valid && register() ">
      <div class="grid cols--2">
        <mat-form-field appearance="outline">
          <mat-label>Geschlecht</mat-label>
          <mat-select name="gender"
                      formControlName="gender"
                      [(ngModel)]="userRegisterDTO.userGender">
            <mat-option value="DIVERSE">Divers</mat-option>
            <mat-option value="FEMALE">Weiblich</mat-option>
            <mat-option value="MALE">Männlich</mat-option>
          </mat-select>
          <mat-error *ngIf="registerFormGroup.get('gender')?.errors">
              <p *ngIf="registerFormGroup.get('gender')?.hasError('required')">Dieses Feld ist ein Pflichtfeld</p>
            </mat-error>
          </mat-form-field>

          <mat-form-field class="form-element full-width" appearance="outline">
            <mat-label>Vorname</mat-label>
            <input matInput placeholder="Max" name="firstname"
                   formControlName="firstname"
                   [(ngModel)]="userRegisterDTO.firstName">
            <mat-error *ngIf="registerFormGroup.get('firstname')?.errors">
              <p *ngIf="registerFormGroup.get('firstname')?.hasError('required')">Dieses Feld ist ein Pflichtfeld</p>
              <p *ngIf="registerFormGroup.get('firstname')?.hasError('minlength')">Bitte Mindestlänge beachten</p>
            </mat-error>
          </mat-form-field>

          <mat-form-field class="form-element full-width" appearance="outline">
            <mat-label>Nachname</mat-label>
            <input matInput placeholder="Mustermann" name="lastname"
                   formControlName="lastname"
                   [(ngModel)]="userRegisterDTO.lastName">
            <mat-error *ngIf="registerFormGroup.get('lastname')?.errors">
              <p *ngIf="registerFormGroup.get('lastname')?.hasError('required')">Dieses Feld ist ein Pflichtfeld</p>
              <p *ngIf="registerFormGroup.get('lastname')?.hasError('minlength')">Bitte Mindestlänge beachten</p>
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Geburtsdatum</mat-label>
            <input matInput [matDatepicker]="picker1" name="birthday"
                   formControlName="birthday"
                   [(ngModel)]="userRegisterDTO.birthday">
            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker #picker1></mat-datepicker>
          </mat-form-field>

          <mat-form-field class="form-element full-width" appearance="outline">
            <mat-label>E-Mail</mat-label>
            <input matInput placeholder="max@mustermann.com" name="email"
                   formControlName="email"
                   [(ngModel)]="userRegisterDTO.email">
            <mat-error *ngIf="registerFormGroup.get('email')?.errors">
              <p *ngIf="registerFormGroup.get('email')?.hasError('required')">Dieses Feld ist ein Pflichtfeld</p>
              <p *ngIf="registerFormGroup.get('email')?.hasError('pattern')">Die ist keine gültige E-Mail Adresse</p>
            </mat-error>
          </mat-form-field>

        <mat-form-field class="form-element full-width" appearance="outline">
          <mat-label>Adresse</mat-label>
          <input matInput placeholder="Musterstraße 1/1" name="street" formControlName="unrequired"
                 [(ngModel)]="userRegisterDTO.street">
        </mat-form-field>

        <mat-form-field class="form-element full-width" appearance="outline">
          <mat-label>Postleitzahl</mat-label>
          <input matInput placeholder="1234" name="postCode" formControlName="unrequired"
                 [(ngModel)]="userRegisterDTO.postCode">
        </mat-form-field>

        <mat-form-field class="form-element" appearance="outline">
          <mat-label>Stadt</mat-label>
          <input matInput placeholder="Musterstadt" name="city" formControlName="unrequired"
                 [(ngModel)]="userRegisterDTO.city">
        </mat-form-field>

        <mat-form-field class="form-element full-width" appearance="outline">
          <mat-label>Passwort</mat-label>
          <input matInput placeholder="Max" name="password" type="password"
                 formControlName="password"
                 [(ngModel)]="userRegisterDTO.password">
          <mat-error *ngIf="registerFormGroup.get('password')?.errors">
            <p *ngIf="registerFormGroup.get('password')?.hasError('required')">Dieses Feld ist ein Pflichtfeld</p>
            <p *ngIf="registerFormGroup.get('password')?.hasError('pattern')">Dies entspricht nicht den Passwort
              Vorgaben</p>
          </mat-error>
        </mat-form-field>
        <ng-container style="margin-bottom: 2px; padding: 0">
          <mat-hint>Passwort Anforderungen beachten <br> [min. 8-Zeichen, 1 x Großbuchstabe, 1x Sonderzeichen]</mat-hint>
        </ng-container>

        <mat-form-field class="form-element full-width" appearance="outline">
          <mat-label>Passwort wiederholen</mat-label>
          <input matInput placeholder="Max" name="confirmPassword" type="password"
                 formControlName="confirmPassword">
          <mat-error *ngIf="registerFormGroup.get('confirmPassword')?.errors">
            <p *ngIf="registerFormGroup.get('confirmPassword')?.hasError('required')">Dieses Feld ist ein
              Pflichtfeld</p>
            <p *ngIf="registerFormGroup.get('confirmPassword')?.hasError('crossFieldValidator')">Passwörter stimmen
              nicht überein</p>
          </mat-error>
        </mat-form-field>

        <button class="cols--full-width" mat-raised-button color="primary" type="submit"
                [disabled]="!registerForm.form.valid">Registrieren
        </button>
      </div>
    </form>

  </div>
</div>
